
/* Mobile Budget Styles */
@media (max-width: 640px) {
  /* Budget specific mobile optimizations */
  .budget-card {
    @apply bg-card/80 backdrop-blur-sm border-border/40 my-2 shadow rounded-xl w-full max-w-full overflow-hidden;
  }
  
  /* Budget tab tab list scrolling - fix horizontal stretching */
  .tabs-list-scroll {
    @apply flex overflow-x-auto space-x-1 pb-1 no-scrollbar;
    max-width: 100%;
    width: 100%;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    padding-right: 0;
    padding-left: 0;
  }
  
  /* Make tab items snap when scrolling */
  .budget-tabs-trigger {
    @apply flex-shrink-0 px-2 py-1;
    scroll-snap-align: start;
    white-space: nowrap;
    min-width: auto;
    width: auto;
  }
  
  /* Container for scrollable tabs */
  .scrollable-tabs-container {
    @apply w-full overflow-x-auto no-scrollbar;
    -webkit-overflow-scrolling: touch;
    position: relative;
    padding-bottom: 2px; /* Prevents content jump */
  }
  
  /* Prevent horizontal overflow issues */
  .budget-container {
    @apply w-full px-0 max-w-full;
    overflow-x: hidden !important;
    max-width: 100vw;
  }
  
  /* Tab content padding for mobile */
  .tab-content-mobile {
    @apply px-0 max-w-full;
    overflow-x: hidden !important;
    width: 100%;
  }
  
  /* Fixed budget content height to avoid jumpy layout */
  .budget-chart-container {
    height: 250px;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden !important;
  }
  
  /* Add padding for mobile budget section */
  .budget-section {
    @apply py-2 px-1 max-w-full;
    overflow-x: hidden !important;
    width: 100%;
  }
  
  /* Progress bar height for budget */
  .budget-progress-bar {
    @apply h-2;
  }
  
  /* Mobile budget form improvements */
  .budget-form-container {
    @apply space-y-4 mt-3;
  }
  
  /* Make budget content fit properly on mobile */
  .budget-content {
    @apply w-full px-1 max-w-full;
    max-width: 100%;
    overflow-x: hidden !important;
    width: 100%;
  }
  
  /* Budget info row layout */
  .budget-info-row {
    @apply grid grid-cols-2 gap-2 mb-2;
  }
  
  /* Budget value display */
  .budget-value {
    @apply text-lg font-semibold;
  }
  
  /* Budget label display */
  .budget-label {
    @apply text-xs text-muted-foreground;
  }
  
  /* Budget comparison chart container */
  .budget-comparison-chart {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
  
  /* Date input styling for mobile */
  .date-input-custom {
    @apply w-full rounded-lg border border-input text-sm;
    appearance: none;
  }
  
  /* Fix Safari date input appearance */
  .date-input-custom::-webkit-datetime-edit {
    @apply py-1;
  }
  
  .date-input-custom::-webkit-calendar-picker-indicator {
    @apply opacity-100 cursor-pointer;
  }
  
  /* Date picker popover styles for mobile */
  .date-picker-popover {
    @apply p-0 border border-border rounded-md shadow-md bg-background;
    width: 90vw !important;
    max-width: 340px !important;
    margin: 4px auto;
    min-width: 280px;
  }
  
  /* Calendar styles for mobile */
  .rdp {
    --rdp-cell-size: 36px;
    --rdp-accent-color: var(--primary);
    --rdp-background-color: var(--accent);
    margin: 0;
    overflow: visible;
  }
  
  /* Fix Calendar UI for mobile */
  .rdp-day, .rdp-head_cell {
    @apply text-sm !important;
  }
  
  /* Calendar day styling for better touch targets */
  .rdp-day {
    @apply h-8 w-8 !important;
  }
  
  /* Month select in calendar for mobile */
  .rdp-caption_dropdowns {
    @apply text-xs !important;
  }
  
  /* Enhance calendar navigation buttons */
  .rdp-nav {
    @apply gap-1 !important;
  }
  
  /* Calendar container on mobile */
  .calendar-container {
    @apply p-1 !important;
    max-width: 100%;
    overflow-x: hidden;
  }
  
  /* Make calendar UI items bigger and more touchable */
  [data-radix-popper-content-wrapper] {
    z-index: 50 !important;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Fix touch issues with calendar */
  [data-radix-select-viewport] {
    max-height: 40vh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  /* Make calendar selection buttons more touch-friendly */
  .date-picker-button {
    @apply py-3 px-4 !important;
    min-height: 44px !important;
  }
  
  /* Improve dropdown UX on mobile */
  [data-radix-select-content] {
    max-height: 50vh !important;
  }
  
  /* Ensure popover content is visible and clickable on mobile */
  [data-radix-popper-content-wrapper] {
    z-index: 50 !important;
    pointer-events: auto !important;
    touch-action: manipulation !important;
  }
}

/* Additional styles for card and glassmorphism effects */
.budget-glass-card {
  @apply rounded-xl bg-card/60 dark:bg-card/40 backdrop-blur-lg border border-border/20 shadow-sm transition-all duration-300;
}

.budget-glass-card:hover {
  @apply shadow-md bg-card/70 dark:bg-card/50 border-border/30;
}

.budget-progress {
  @apply h-2 rounded-full bg-muted/50;
}

.budget-progress-bar {
  @apply h-full rounded-full bg-primary/80;
}

.budget-header {
  @apply flex items-center justify-between mb-4 pb-2 border-b border-border/20;
}

/* Date picker popover styling */
.date-picker-popover {
  @apply p-0 border border-border rounded-lg shadow-md overflow-hidden bg-background/95 backdrop-blur-sm;
  min-width: 300px;
  touch-action: manipulation;
}

/* Style for date buttons to make them more visible */
.date-picker-button {
  @apply w-full flex items-center border border-input bg-background rounded-md px-3 py-2 text-left;
}

/* Make calendar cells pointer-events-auto so they're clickable in popovers */
.calendar-cell {
  @apply pointer-events-auto touch-manipulation;
}

/* Fix calendar positioning on mobile devices */
.popover-calendar {
  @apply p-0;
  max-width: 100%;
  width: 300px;
  z-index: 100;
  pointer-events: auto !important;
  touch-action: manipulation;
}

/* Fix for Radix UI popover layer */
[data-radix-popper-content-wrapper] {
  z-index: 50 !important;
  pointer-events: auto !important;
  touch-action: manipulation;
}

/* Ensure calendar days are clickable */
.rdp-day {
  pointer-events: auto !important;
  touch-action: manipulation !important;
}

/* Calendar visibility in dark mode */
.dark .rdp-day {
  color: white !important;
}

.dark .rdp-day_selected {
  background-color: var(--primary) !important;
  color: var(--primary-foreground) !important;
}

.dark .rdp-button:hover:not([disabled]) {
  background-color: var(--accent) !important;
}

/* Month/Year dropdown improvements */
.rdp-caption_dropdowns {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

/* Better styling for calendar header cells */
.rdp-head_cell {
  @apply text-muted-foreground font-normal;
  padding: 0.5rem 0;
}

/* Enhanced calendar day styling */
.rdp-day {
  @apply rounded-md transition-colors;
  aspect-ratio: 1;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Specific styling for dark mode */
.dark [data-radix-select-item] {
  @apply text-foreground bg-transparent;
}

.dark [data-radix-select-item]:hover {
  @apply bg-accent text-accent-foreground;
}

.dark [data-radix-select-trigger] {
  @apply border-border bg-background/80;
}

/* Make the dropdown more visible in dark mode */
.dark [data-radix-select-content] {
  @apply bg-background/95 backdrop-blur-sm border-border/60 shadow-lg text-foreground;
}

/* Selected date styling in dark mode */
.dark .rdp-day_selected {
  box-shadow: 0 0 0 2px var(--primary);
}

/* Better hover effects for days */
.rdp-day:hover:not(.rdp-day_selected) {
  @apply bg-accent/60 text-accent-foreground;
}
